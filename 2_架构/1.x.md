# NameNode

    client 请求对数据的读写
    NameNode 接受client请求，分配具体的DataNode进行读写
    DataNode 读写具体数据

    接受客户端的读写服务
    收集DataNode的block列表
    主节点存放文件的元数据 
    元数据 属性信息 块大小 块偏移量  anac。conf

# DataNode

    从节点存放文件具体块数据
    使用本地文件系统存储文件
    启动后会 主从心跳 提交block列表
    存储本地block的元数据  md5 


hadoop1

    一个NameNode
    多个DataNode
    一个Secondary NameNode
  
    client 请求对数据的读写
    NameNode 接受client请求，分配具体的DataNode进行读写
    DataNode 读写具体数据

hadoop2


    两个NameNode
    多个DataNode
    没有Secondary NameNode


# Secondary NameNode

NameNode 基于内存存储  不与磁盘发生交互
单向持久化

保存的元数据

文件大小 

两种方法

  fsimage
    定点快照 存储到磁盘  写入满 恢复快
  edits
    增量的全局操作日志   对metadata的操作日志  写入快 恢复慢
  
  过程 format
  
  edits数据膨胀 edits合并到fsimages
  
  合并
  
  SecondaryNameNode
  帮助NameNode合并fsimages edits
  2.x版本以后不用
  
  合并时机
  checkpoint 
  
  启动前先读取fsimages
 
 